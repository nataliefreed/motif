/* debugging */
/* * {
  border: 1px solid red; 
} */

:root {
  --page-width: 40vw;
  --page-height: 85vh;
  --cover-margin: calc(var(--page-width) * 0.01);
  --cover-gap: calc(var(--page-width) * 0.005);
  --page-inset: calc(var(--page-width) * 0.015);
  --ring-width: calc(var(--page-width) * 0.1);

  --notebook-max-width: 1440px;
  --notebook-max-height: 85vh;
  --max-page-width: calc(var(--notebook-max-width)/2 - 2*var(--cover-margin) - 2*var(--page-inset));
  --max-page-height: calc(var(--notebook-max-height) - 2*var(--cover-margin));
  
  --adjusted-page-width: min(var(--page-width), var(--max-page-width));
  --adjusted-page-height: min(var(--page-height), var(--max-page-height));

  --base-font-size: 15px;
  --line-height-multiplier: 1.7;
  --line-thickness: 1px;
  --lined-paper-line-height: calc(var(--base-font-size) * var(--line-height-multiplier));
  --lined-paper-line-height-blank: calc(var(--lined-paper-line-height) - var(--line-thickness));
}

html, body {
  height: 100%; /* Ensure full viewport height */
  margin: 0;    /* Remove default margins */
  overflow: hidden; /* Prevent scrolling at the body and html level */
  font-size: var(--base-font-size);
  line-height: calc(var(--line-height-multiplier) * 1em);
  font-family: 'FuturaHandwritten';
  font-weight: 100;
  background-color: #e9e9e9; 
  /* background-color: #ffffff; */
}

body {
  display: flex;
  justify-content: center; /* Horizontally center the child content/containers */
  align-items: center;
  height: 100vh;
}

.outer-container {
  min-height: 100%; /* At least the height of the viewport */
  overflow: none;
  display: flex;
  align-items: flex-start;
}

.notebook {
  max-width: var(--notebook-max-width);
  max-height: var(--notebook-max-height);
  min-width: 320px; /* Common minimum for mobile screens */
  display: flex;
  align-items: center;
  position: relative;
  padding: 50px 30px 50px 30px;
}

.cover {
  margin: var(--cover-gap);
  background-color: #bcbcbc;
  /* background-color: #bdc6dc; */
  border: 1.5px solid  #636363;
  width: calc(var(--page-width) + 2*var(--cover-margin) + var(--page-inset));
  height: calc(var(--page-height) + 2*var(--cover-margin));
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  box-shadow: 1px 1px 2px 2px gray;
  margin-bottom: 20px;
}

.left-page, .right-page {
  display: flex;
  justify-content: start;
  align-items: center;
  flex-direction: column;
  width: min(var(--page-width), var(--max-page-width));
  height: min(var(--page-height), var(--max-page-height));
  border-radius: 10px;
  position: relative;
  box-shadow: 0 2px 2px 2px gray;
  margin: 0 0 50px 0;
  background-color: #ffffff;
  /* border: 1px solid black; */
}

.left-page-content {
  width: 85%;
  transform: translateX(calc(-0.5*var(--cover-margin)));
  /* max-height: calc(var(--adjusted-page-height) * 0.5); */
  /* max-height: calc(0.9 * min(var(--page-height), var(--max-page-height))); */
  /* overflow-y: auto; */
  display: flex;
  flex-direction: column;
  align-items: stretch; /* fill the width of the container */
  /* border: 1px solid black; */
}

/* vertical red page margin */
.right-page::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: calc(var(--adjusted-page-width)*0.1); /* Margin from left edge */
  width: 0.1em; /* Line weight */
  background-color: #ffbed1; /* Light red color */
  z-index: -1;
}

/* horizontal blue lines on lined paper */
.right-page::after {
  content: "";
  position: absolute;
  top: calc(var(--lined-paper-line-height)*2); /* Margin from top edge */
  bottom: calc(var(--lined-paper-line-height)*2);   /* Space at the bottom */
  left: 0;        /* Starts at the left edge */
  right: 0;       /* Ends at the right edge */
  background-image: repeating-linear-gradient(
      to bottom, 
      transparent 0%, /*transparent from 0 to x% */
      transparent var(--lined-paper-line-height-blank), 
      #add8e6 var(--lined-paper-line-height-blank), /*blue from x% to (x+1)% */
      #add8e6 var(--lined-paper-line-height) /*blue from (x+1)% to 100% */
  );
  z-index: -1; /* Place it below the content */
}

/* replace with joy stuff to make the lines line up?*/
.content {
  max-height: calc(var(--page-height) - 30px);
  overflow-y: auto;
}

/* Move the right edge of the left-page towards the center */
.cover:nth-child(1) .left-page {
  position: absolute;
  right: var(--page-inset);
  top: 50%;
  transform: translateY(-50%);
}

/* Move the left edge of the right-page towards the center */
.cover:nth-child(3) .right-page {
  position: absolute;
  left: var(--page-inset);
  top: 50%;
  transform: translateY(-50%);
}

.square {
  width: 100%;         /* Takes the full width of its parent */
  padding-bottom: 100%;   /* Forces height to match width */
  position: relative;  /* To absolutely position child content inside */
}

#drawing-canvas {
  background-color: #ffffff;
  /* margin: 50px 0px 0px 0px; */
  width: calc(var(--adjusted-page-width)*0.85);
  height: calc(var(--adjusted-page-width)*0.85);
  /* margin-left: 15px; */
  /* border: 1px solid black; */
  box-shadow: 1px 1px 2px 2px gray;
  cursor: url('../assets/cursors/paintbrush-solid.svg') 0 28, pointer;
}

#joy-painting {
  position: absolute;
  top: calc(var(--lined-paper-line-height)*2);
  left: 72px;
  overflow-y: scroll;
  width: 580px;
  height: 630px;
  /* margin: 30px 0 0 45px; */
  /* border: 1px solid gray; */
}

#general-buttons {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  /* border: 1px solid gray; */
}


#trash {
  border: 2px dashed gray;
  /* background-color: #ffcbcb; */
  color: gray;
  position: absolute;
  top: 0;
  right: 10px;
  width: 50px;
  height: 50px;
  align-content: center;
  justify-content: center;
  display: flex;
  align-items: center;
  font-size: 20pt;
  margin: 10px 0px 10px 30px;
  /* background-image: <i class="fa-solid fa-trash-can"></i>; */
}

#trash > li {
  list-style-type: none;
}

#trash.hovered {
  background-color: #ffcbcb;
  color: lightred;
}

.rings {
   display: flex;
   flex-direction: column;
   width: var(--ring-width);
   height: calc(var(--page-height)*0.9);
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   z-index: 1;
   justify-content: space-evenly;
}

.ring {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.circle {
    width: calc(var(--ring-width) * 0.2);
    height: calc(var(--ring-width) * 0.2);
    background-color: #ffffff;
    border: 1px solid gray;
    box-shadow: inset 2px 2px 1px 1px gray;
    border-radius: 50%;
    z-index: 1;
}

.line {
    flex-grow: 1;
    height: calc(var(--ring-width) * 0.1);
    /* border: 3px solid #a2a2a2; */
    background-color: #a2a2a2;
    border-radius: 10px;
    margin: 2px -8px 0px -8px;
    z-index: 2;
}

#code-toolbar {
  border: 1px solid gray;
  border-radius: 10px;
  background-color: white;
  box-shadow: 1px 1px 2px 1px gray;
  position: absolute;
  top: calc(0.1*var(--page-height));
  left: calc(var(--page-width));
  display: flex;
  flex-direction: column;
  padding-top: 10px;
}

.code-control-button {
  background-color: #d8d8d8;
  /* border: 1px solid gray; */
  border: none;
  border-radius: 4px;
  /* margin: 0px 10px 5px 10px; */
  padding: 10px;
  cursor: pointer;
  /* transition: background-color 0.3s; */
  margin: 0px 10px 10px 10px; 
}

.code-control-button:hover {
  background-color: #b1b1b1;
}

.code-control-button:active {
  background-color: #b1b1b1;
}

.code-control-button.selected {
  background-color: #b1b1b1;
}

.code-control-buttons i {
  font-size: 18px;
}

#button-save-effect {
  /* padding: 5px; */
  margin: auto 0 5px 0;
  border-radius: 4px;
  bottom: 0px;
  padding: 5px 10px;
  /* color: gray; */
  background-color: #eeeeee;
  font-size: 26px;
  /* border: 1px solid black; */
}

